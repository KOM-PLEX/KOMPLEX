{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/packages/config/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport {\n  getAnalytics,\n  isSupported as isAnalyticsSupported,\n} from \"firebase/analytics\";\nimport {\n  getAuth,\n  GoogleAuthProvider,\n  OAuthProvider,\n  GithubAuthProvider,\n} from \"firebase/auth\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBQJfSMb1JjyIkFmGdPTrql1aE302O6BSM\",\n  authDomain: \"komplex-a9ff5.firebaseapp.com\",\n  projectId: \"komplex-a9ff5\",\n  storageBucket: \"komplex-a9ff5.firebasestorage.app\",\n  messagingSenderId: \"711155458274\",\n  appId: \"1:711155458274:web:f3a907bed5b9d661db3ebb\",\n  measurementId: \"G-NRP2WJGHQQ\",\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Analytics (guard for non-browser environments)\nlet analytics: ReturnType<typeof getAnalytics> | undefined;\nif (typeof window !== \"undefined\") {\n  // getAnalytics throws if not supported (e.g., SSR); check support first\n  isAnalyticsSupported().then((supported) => {\n    if (supported) {\n      analytics = getAnalytics(app);\n    }\n  });\n}\n\n// Initialize Auth and providers\nconst auth = getAuth(app);\nconst googleProvider = new GoogleAuthProvider();\nconst githubProvider = new GithubAuthProvider();\nconst microsoftProvider = new OAuthProvider(\"microsoft.com\");\n\nexport {\n  app,\n  analytics,\n  auth,\n  googleProvider,\n  githubProvider,\n  microsoftProvider,\n};\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;;;AACvD;AAAA;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;;;;AAMA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,mEAAmE;AACnE,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,+OAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,4DAA4D;AAC5D,IAAI;AACJ;;AASA,gCAAgC;AAChC,MAAM,OAAO,CAAA,GAAA,iTAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,iBAAiB,IAAI,4TAAA,CAAA,qBAAkB;AAC7C,MAAM,iBAAiB,IAAI,4TAAA,CAAA,qBAAkB;AAC7C,MAAM,oBAAoB,IAAI,0TAAA,CAAA,gBAAa,CAAC","debugId":null}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/packages/config/axios.ts"],"sourcesContent":["import axios from \"axios\";\nimport { auth } from \"../config/firebase\";\nimport { onAuthStateChanged, type User as FirebaseUser } from \"firebase/auth\";\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\n});\n\n// Attach Firebase ID token to every request\napi.interceptors.request.use(async (config) => {\n  const firebaseUser = await new Promise<FirebaseUser | null>((resolve) => {\n    if (auth.currentUser) {\n      resolve(auth.currentUser);\n      return;\n    }\n    const unsubscribe = onAuthStateChanged(auth, (u) => {\n      unsubscribe();\n      resolve(u);\n    });\n  });\n\n  const idToken = firebaseUser ? await firebaseUser.getIdToken() : null;\n\n  config.headers.Authorization = `Bearer ${idToken}`;\n\n  return config;\n});\n\nexport default api;\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AAAA;;;;AAEA,MAAM,MAAM,wLAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS,QAAQ,GAAG,CAAC,mBAAmB;AAC1C;AAEA,4CAA4C;AAC5C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IAClC,MAAM,eAAe,MAAM,IAAI,QAA6B,CAAC;QAC3D,IAAI,8HAAA,CAAA,OAAI,CAAC,WAAW,EAAE;YACpB,QAAQ,8HAAA,CAAA,OAAI,CAAC,WAAW;YACxB;QACF;QACA,MAAM,cAAc,CAAA,GAAA,4TAAA,CAAA,qBAAkB,AAAD,EAAE,8HAAA,CAAA,OAAI,EAAE,CAAC;YAC5C;YACA,QAAQ;QACV;IACF;IAEA,MAAM,UAAU,eAAe,MAAM,aAAa,UAAU,KAAK;IAEjE,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,SAAS;IAElD,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/pages/feedback/FeedbackModal.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { X, Loader2, ChevronDown, Check, MessageCircle } from 'lucide-react';\nimport { Listbox, Transition } from '@headlessui/react';\nimport { Fragment } from 'react';\nimport api from '@core-configs/axios';\n\ntype FeedbackTypeOption =\n    | 'bug'\n    | 'wrong_content'\n    | 'issue'\n    | 'question'\n    | 'feature_request'\n    | 'other';\n\ninterface FeedbackModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n}\n\nexport default function FeedbackModal({ isOpen, onClose }: FeedbackModalProps) {\n    const [feedbackType, setFeedbackType] = useState<FeedbackTypeOption>('bug');\n    const [customType, setCustomType] = useState<string>('');\n    const [content, setContent] = useState<string>('');\n    const [isSubmitting, setIsSubmitting] = useState<boolean>(false);\n\n    const options: { value: FeedbackTypeOption; label: string }[] = useMemo(\n        () => [\n            { value: 'bug', label: 'បញ្ហាប្រើប្រាស់' },\n            { value: 'wrong_content', label: 'មាតិកាមិនត្រឹមត្រូវ' },\n            { value: 'question', label: 'សំណួរ' },\n            { value: 'feature_request', label: 'ស្នើមុខងារថ្មី' },\n            { value: 'other', label: 'ផ្សេងទៀត' },\n        ],\n        []\n    );\n\n    useEffect(() => {\n        if (!isOpen) return;\n        setFeedbackType('bug');\n        setCustomType('');\n        setContent('');\n        setIsSubmitting(false);\n    }, [isOpen]);\n\n\n\n\n\n    const canSubmit = useMemo(() => {\n        const typeValid = feedbackType !== 'other' ? Boolean(feedbackType) : customType.trim().length > 0;\n        const contentValid = content.trim().length > 0;\n        return typeValid && contentValid && !isSubmitting;\n    }, [feedbackType, customType, content, isSubmitting]);\n\n    const handleSubmit = async () => {\n        if (!canSubmit) return;\n        try {\n            setIsSubmitting(true);\n\n            const body = {\n                type: feedbackType === 'other' ? customType.trim() : feedbackType,\n                content: content,\n            }\n\n            await api.post(\"/me/feedback\", body);\n\n            onClose();\n        } catch (error) {\n            console.error('Failed to submit feedback:', error);\n            alert('Failed to submit feedback. Please try again.');\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n            <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\n\n            <div className=\"relative z-10 w-full max-w-lg mx-auto bg-white rounded-2xl shadow-xl border border-gray-200\">\n                <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n                    <h3 className=\"flex items-center gap-2 text-xl font-bold text-gray-900\">\n                        <MessageCircle className=\"w-5 h-5 text-indigo-500\" />\n                        ផ្ញើមតិយោបល់\n                    </h3>\n                    <button\n                        onClick={onClose}\n                        className=\"p-2 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors\"\n                        aria-label=\"Close feedback modal\"\n                    >\n                        <X className=\"w-5 h-5\" />\n                    </button>\n                </div>\n\n                <div className=\"p-6 space-y-6\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-3\">ប្រភេទ</label>\n                        <Listbox value={feedbackType} onChange={setFeedbackType}>\n                            <div className=\"relative\">\n                                <Listbox.Button className=\"relative w-full cursor-pointer rounded-lg bg-white py-3 pl-4 pr-10 text-left shadow-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\">\n                                    <span className=\"block truncate text-gray-900\">\n                                        {options.find(opt => opt.value === feedbackType)?.label}\n                                    </span>\n                                    <span className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3\">\n                                        <ChevronDown className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n                                    </span>\n                                </Listbox.Button>\n                                <Transition\n                                    as={Fragment}\n                                    leave=\"transition ease-in duration-100\"\n                                    leaveFrom=\"opacity-100\"\n                                    leaveTo=\"opacity-0\"\n                                >\n                                    <Listbox.Options className=\"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-lg bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\">\n                                        {options.map((option) => (\n                                            <Listbox.Option\n                                                key={option.value}\n                                                className={({ active }) =>\n                                                    `relative cursor-pointer select-none py-3 pl-10 pr-4 ${active ? 'bg-indigo-100 text-indigo-900' : 'text-gray-900'\n                                                    }`\n                                                }\n                                                value={option.value}\n                                            >\n                                                {({ selected }) => (\n                                                    <>\n                                                        <span className={`block truncate ${selected ? 'font-medium' : 'font-normal'}`}>\n                                                            {option.label}\n                                                        </span>\n                                                        {selected ? (\n                                                            <span className=\"absolute inset-y-0 left-0 flex items-center pl-3 text-indigo-600\">\n                                                                <Check className=\"h-5 w-5\" aria-hidden=\"true\" />\n                                                            </span>\n                                                        ) : null}\n                                                    </>\n                                                )}\n                                            </Listbox.Option>\n                                        ))}\n                                    </Listbox.Options>\n                                </Transition>\n                            </div>\n                        </Listbox>\n                        {feedbackType === 'other' && (\n                            <input\n                                type=\"text\"\n                                value={customType}\n                                onChange={(e) => setCustomType(e.target.value)}\n                                placeholder=\"បញ្ចូលប្រភេទផ្ទាល់ខ្លួន\"\n                                className=\"mt-3 w-full px-4 py-3 bg-white rounded-lg text-sm border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all\"\n                            />\n                        )}\n                    </div>\n\n                    <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-3\">មតិយោបល់</label>\n                        <textarea\n                            value={content}\n                            onChange={(e) => setContent(e.target.value)}\n                            placeholder=\"ពិពណ៌នាអំពីបញ្ហា/ប្រធានបទ/សំណួរ ឬចែករំលែកមតិយោបល់របស់អ្នក...\"\n                            className=\"w-full p-4 rounded-xl bg-white border border-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none transition-all\"\n                            rows={6}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"p-6 border-t border-gray-200 flex items-center justify-end gap-3\">\n                    <button\n                        onClick={onClose}\n                        className=\"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium\"\n                        disabled={isSubmitting}\n                    >\n                        បោះបង់\n                    </button>\n                    <button\n                        onClick={handleSubmit}\n                        disabled={!canSubmit}\n                        className={`px-6 py-3 rounded-xl text-white flex items-center gap-2 font-medium transition-all ${canSubmit ? 'bg-indigo-600 hover:bg-indigo-700 shadow-lg hover:shadow-xl' : 'bg-indigo-400 cursor-not-allowed'\n                            }`}\n                    >\n                        {isSubmitting && <Loader2 className=\"w-4 h-4 animate-spin\" />}\n                        ផ្ញើ\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/hooks/useAuth.tsx"],"sourcesContent":["'use client';\n\nimport {\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n  ReactNode,\n} from \"react\";\nimport { User as UserType } from \"@core-types/user-content/user\";\nimport { usePathname } from \"next/navigation\";\n\ninterface AuthContextType {\n  user: UserType | null;\n  loading: boolean;\n  isLoginOpen: boolean;\n  openLoginModal: () => void;\n  closeLoginModal: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n  isLoginOpen: false,\n  openLoginModal: () => { },\n  closeLoginModal: () => { },\n});\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const pathname = usePathname();\n  const [user, setUser] = useState<UserType | null>(() => {\n    try {\n      const storedUserJson = typeof window !== 'undefined' ? localStorage.getItem(\"user\") : null;\n      return storedUserJson ? JSON.parse(storedUserJson) : null;\n    } catch {\n      return null;\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [isLoginOpen, setIsLoginOpen] = useState(false);\n\n  const openLoginModal = useCallback(() => setIsLoginOpen(true), []);\n  const closeLoginModal = useCallback(() => setIsLoginOpen(false), []);\n\n  useEffect(() => {\n    // Re-sync on route change in case auth state changed elsewhere\n    try {\n      const storedUserJson = localStorage.getItem(\"user\");\n      setUser(storedUserJson ? JSON.parse(storedUserJson) : null);\n    } catch {\n      setUser(null);\n    }\n    // Always close login modal on route change to avoid it sticking\n    setIsLoginOpen(false);\n  }, [pathname]);\n\n  // Close modal once authenticated\n  useEffect(() => {\n    if (user) {\n      setIsLoginOpen(false);\n    }\n  }, [user]);\n\n  const value = useMemo(\n    () => ({ user, loading, isLoginOpen, openLoginModal, closeLoginModal }),\n    [user, loading, isLoginOpen, openLoginModal, closeLoginModal]\n  );\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n"],"names":[],"mappings":";;;;;AAEA;AAUA;AAZA;;;;AAsBA,MAAM,4BAAc,CAAA,GAAA,oUAAA,CAAA,gBAAa,AAAD,EAAmB;IACjD,MAAM;IACN,SAAS;IACT,aAAa;IACb,gBAAgB,KAAQ;IACxB,iBAAiB,KAAQ;AAC3B;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,WAAW,CAAA,GAAA,iQAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAmB;QAChD,IAAI;YACF,MAAM,iBAAiB,sCAAgC,0BAA+B;YACtF,OAAO,sCAAiB,0BAA6B;QACvD,EAAE,OAAM;YACN,OAAO;QACT;IACF;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,iBAAiB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,IAAM,eAAe,OAAO,EAAE;IACjE,MAAM,kBAAkB,CAAA,GAAA,oUAAA,CAAA,cAAW,AAAD,EAAE,IAAM,eAAe,QAAQ,EAAE;IAEnE,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,+DAA+D;QAC/D,IAAI;YACF,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAC5C,QAAQ,iBAAiB,KAAK,KAAK,CAAC,kBAAkB;QACxD,EAAE,OAAM;YACN,QAAQ;QACV;QACA,gEAAgE;QAChE,eAAe;IACjB,GAAG;QAAC;KAAS;IAEb,iCAAiC;IACjC,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,MAAM;YACR,eAAe;QACjB;IACF,GAAG;QAAC;KAAK;IAET,MAAM,QAAQ,CAAA,GAAA,oUAAA,CAAA,UAAO,AAAD,EAClB,IAAM,CAAC;YAAE;YAAM;YAAS;YAAa;YAAgB;QAAgB,CAAC,GACtE;QAAC;QAAM;QAAS;QAAa;QAAgB;KAAgB;IAG/D,qBACE,6WAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;AAEO,MAAM,UAAU,IAAM,CAAA,GAAA,oUAAA,CAAA,aAAU,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/common/Header.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { Menu, FileText, MessageSquare, BookOpen, Bot, Camera, Pencil, LogOut, BookMarked, MessageCircle, UserIcon } from 'lucide-react';\nimport { Menu as HeadlessMenu, Transition } from '@headlessui/react';\nimport FeedbackModal from '../pages/feedback/FeedbackModal';\nimport { useAuth } from '@hooks/useAuth';\nimport { signOut } from 'firebase/auth';\nimport { auth } from '@core-configs/firebase';\nimport { useState } from 'react';\n\nconst navLinks = [\n    {\n        label: 'មេរៀន',\n        href: `/docs`,\n        icon: FileText,\n        style: \"bg-transparent  hover:text-indigo-600 hover:bg-indigo-50/90 \"\n    },\n    {\n        label: 'អនុវត្តន៍',\n        href: '/exercises',\n        icon: Pencil,\n        style: \"bg-transparent  hover:text-indigo-600 hover:bg-indigo-50/90 \"\n    },\n    {\n        label: 'ពិភាក្សា',\n        href: '/forums',\n        icon: MessageSquare,\n        style: \"bg-transparent  hover:text-indigo-600 hover:bg-indigo-50/90 \"\n    },\n    {\n        label: 'អត្ថបទ',\n        href: '/blogs',\n        icon: BookOpen,\n        style: \"bg-transparent  hover:text-indigo-600 hover:bg-indigo-50/90 \"\n    },\n    {\n        label: 'វីដេអូ',\n        href: '/videos',\n        icon: Camera,\n        style: \"bg-transparent  hover:text-indigo-600 hover:bg-indigo-50/90 \"\n    },\n    {\n        label: 'តារា',\n        href: '/ai',\n        icon: Bot,\n        style: \"bg-indigo-600 text-white no-underline   hover:bg-indigo-500\"\n    }\n]\n\nexport default function Header() {\n    const router = useRouter();\n    const pathname = usePathname();\n    const { user, loading } = useAuth();\n\n\n    const [showFeedbackModal, setShowFeedbackModal] = useState(false);\n\n    const handleLogout = async () => {\n        try {\n            await signOut(auth);\n            localStorage.removeItem(\"user\");\n            router.push(\"/auth\");\n        } catch (error) {\n            console.error('Logout error:', error);\n        }\n    };\n\n\n    return (\n        <>\n            <div className=\"bg-white/95 backdrop-blur-md border-b border-indigo-500/10 fixed top-0 left-0 right-0 z-50 w-full\">\n                <div className=\"max-w-full px-6 py-2 flex justify-between items-center\">\n                    {/* Logo */}\n                    <Link href=\"/\" className=\"text-decoration-none flex items-center gap-2\">\n                        <img src=\"/logo.png\" alt=\"logo\" className='w-5 h-5' />\n                        <div className=\"flex items-center justify-center gap-0\">\n                            <span className=\"text-2xl font-extrabold tracking-tight text-indigo-500\">KOM</span>\n                            <span className=\"text-2xl font-extrabold tracking-tight text-black\">PLEX</span>\n                        </div>\n                    </Link>\n\n                    {/* Mobile Menu */}\n                    <HeadlessMenu as=\"div\" className=\"md:hidden relative\">\n                        <HeadlessMenu.Button className=\"bg-none border-none focus:outline-none text-2xl text-indigo-600 cursor-pointer py-2 rounded-lg transition-colors duration-200\">\n                            <Menu size={24} />\n                        </HeadlessMenu.Button>\n\n                        <Transition\n                            enter=\"transition duration-100 ease-out\"\n                            enterFrom=\"transform scale-95 opacity-0\"\n                            enterTo=\"transform scale-100 opacity-100\"\n                            leave=\"transition duration-75 ease-out\"\n                            leaveFrom=\"transform scale-100 opacity-100\"\n                            leaveTo=\"transform scale-95 opacity-0\"\n                        >\n                            <HeadlessMenu.Items className=\"absolute -right-6 mt-3 w-56 bg-white rounded-bl-2xl shadow-4xl border border-indigo-500/10 backdrop-blur-sm z-50 focus:outline-none p-2\">\n                                <div className=\"space-y-1\">\n                                    {navLinks.map((link) => {\n                                        const Icon = link.icon;\n                                        // Get the first segment after the domain (e.g., \"blogs\" from \"/blogs\" or \"me\" from \"/me/blogs\")\n                                        const pathSegment = pathname.split(\"/\")[1];\n                                        const linkSegment = link.href.split(\"/\")[1];\n                                        const isActive = pathSegment === linkSegment;\n                                        return (\n                                            <HeadlessMenu.Item key={link.href}>\n                                                {() => (\n                                                    <Link\n                                                        href={link.href}\n                                                        className={`flex items-center gap-3 w-full text-left px-4 py-3 rounded-xl text-sm text-gray-600 no-underline font-medium backdrop-blur-sm  transition-all duration-300 ${isActive\n                                                            ? 'text-indigo-600 bg-indigo-50/90 shadow-sm border border-indigo-500/10'\n                                                            : 'hover:text-indigo-600 hover:bg-indigo-50/90'\n                                                            }`}\n                                                    >\n                                                        <Icon size={18} />\n                                                        {link.label}\n                                                    </Link>\n                                                )}\n                                            </HeadlessMenu.Item>\n                                        );\n                                    })}\n                                </div>\n                                {/* Mobile: User area and actions */}\n                                {!loading && (\n                                    <div className=\"mt-2 p-2\">\n                                        <div className='h-0.5 bg-gray-200 my-2'></div>\n                                        {user ? (\n                                            <>\n                                                <div className=\"flex items-center gap-3 px-2 py-2\">\n                                                    {user?.profileImage ? (\n                                                        <img\n                                                            src={user.profileImage}\n                                                            alt=\"Profile\"\n                                                            className=\"w-8 h-8 border border-indigo-500 rounded-full object-cover\"\n                                                            onError={(e) => {\n                                                                (e.target as HTMLImageElement).src = \"/image-error.png\";\n                                                            }}\n                                                        />\n                                                    ) : (\n                                                        <div className=\"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold text-sm\">\n                                                            {((`${user?.firstName || ''} ${user?.lastName || ''}`.trim()) || user?.username || user?.email || 'U').toUpperCase().charAt(0)}\n                                                        </div>\n                                                    )}\n                                                    <div>\n                                                        <div className=\"text-sm font-semibold text-gray-900\">\n                                                            {user ? ((`${user.firstName || ''} ${user.lastName || ''}`.trim()) || user.username || 'Unknown') : 'Unknown'}\n                                                        </div>\n                                                        <div className=\"text-xs text-gray-500\">\n                                                            {user ? (user.email || '') : ''}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"space-y-1 mt-2\">\n                                                    <HeadlessMenu.Item>\n                                                        {({ active }) => (\n                                                            <Link\n                                                                href=\"/me\"\n                                                                className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-indigo-600' : 'hover:bg-gray-50 hover:text-indigo-600'}`}\n                                                            >\n                                                                <BookMarked className=\"w-4 h-4\" />\n                                                                មាតិការបស់ខ្ញុំ\n                                                            </Link>\n                                                        )}\n                                                    </HeadlessMenu.Item>\n                                                    <HeadlessMenu.Item>\n                                                        {({ active }) => (\n                                                            <button\n                                                                onClick={() => setShowFeedbackModal(true)}\n                                                                className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-indigo-600' : 'hover:bg-gray-50 hover:text-indigo-600'}`}\n                                                            >\n                                                                <MessageCircle className=\"w-4 h-4\" />\n                                                                ជួយផ្ដល់មតិ\n                                                            </button>\n                                                        )}\n                                                    </HeadlessMenu.Item>\n                                                    <HeadlessMenu.Item>\n                                                        {({ active }) => (\n                                                            <button\n                                                                onClick={handleLogout}\n                                                                className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-red-600' : 'hover:bg-gray-50 hover:text-red-600'}`}\n                                                            >\n                                                                <LogOut className=\"w-4 h-4\" />\n                                                                ចាកចេញ\n                                                            </button>\n                                                        )}\n                                                    </HeadlessMenu.Item>\n                                                </div>\n                                            </>\n                                        ) : pathname === \"/auth\" ? null : (\n                                            <div className=\"px-2 py-2\">\n                                                <Link\n                                                    href=\"/auth\"\n                                                    className=\"w-full bg-indigo-600 text-white px-4 py-3 rounded-xl font-semibold text-sm hover:bg-indigo-500 transition-colors duration-300 border border-white/20 flex items-center justify-center gap-2\"\n                                                >\n                                                    <UserIcon size={16} />\n                                                    ចុះឈ្មោះ\n                                                </Link>\n                                            </div>\n                                        )}\n                                    </div>\n                                )}\n                            </HeadlessMenu.Items>\n                        </Transition>\n                    </HeadlessMenu>\n\n                    {/* Desktop Navigation Menu */}\n                    <div className=\"hidden md:flex gap-2.5 items-center\">\n                        {navLinks.map((link) => {\n                            const Icon = link.icon;\n                            // Get the first segment after the domain (e.g., \"blogs\" from \"/blogs\" or \"me\" from \"/me/blogs\")\n                            const pathSegment = pathname.split(\"/\")[1];\n                            const linkSegment = link.href.split(\"/\")[1];\n                            const isActive = pathSegment === linkSegment;\n                            return (\n                                <Link\n                                    key={link.href}\n                                    href={link.href}\n                                    className={`flex items-center gap-2 text-gray-600 no-underline font-semibold  text-sm px-3 py-2.5 rounded-xl transition-all duration-300 relative ${isActive ? 'text-indigo-600 bg-indigo-50/90 shadow-sm ' : link.style}`}\n                                >\n                                    <Icon size={18} />\n                                    {link.label}\n                                </Link>\n                            );\n                        })}\n\n                        {/* User Menu or Sign Up Button */}\n                        {loading || pathname === \"/auth\" ? null : user ? (\n                            <HeadlessMenu as=\"div\" className=\"relative ml-2\">\n                                <HeadlessMenu.Button className=\"flex items-center gap-2 rounded-xl transition-colors duration-200 cursor-pointer\">\n                                    {user.profileImage ? (\n                                        <img src={user.profileImage} alt=\"Profile\" className=\"w-8 h-8 border border-indigo-500 rounded-full object-cover\" />\n                                    ) : (\n                                        <div className=\"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold text-sm\">\n                                            {((`${user.firstName || ''} ${user.lastName || ''}`.trim()) || user.username || user.email || 'U').charAt(0)}\n                                        </div>\n                                    )}\n                                </HeadlessMenu.Button>\n\n                                <Transition\n                                    enter=\"transition duration-100 ease-out\"\n                                    enterFrom=\"transform scale-95 opacity-0\"\n                                    enterTo=\"transform scale-100 opacity-100\"\n                                    leave=\"transition duration-75 ease-out\"\n                                    leaveFrom=\"transform scale-100 opacity-100\"\n                                    leaveTo=\"transform scale-95 opacity-0\"\n                                >\n                                    <HeadlessMenu.Items className=\"absolute  right-0 mt-3 focus:outline-none w-72 bg-white rounded-xl shadow-2xl border border-gray-200 backdrop-blur-sm z-50 p-4\">\n                                        {/* User Info Section */}\n                                        <div className=\"flex items-center gap-3\">\n                                            {user.profileImage ? (\n                                                <img src={user.profileImage} alt=\"Profile\" className=\"w-12 h-12 border border-indigo-500 rounded-full object-cover\" />\n                                            ) : (\n                                                <div className=\"w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center text-white font-semibold text-lg\">\n                                                    {((`${user.firstName || ''} ${user.lastName || ''}`.trim()) || user.username || user.email || 'U').charAt(0)}\n                                                </div>\n                                            )}\n                                            <div>\n                                                <h3 className=\"font-semibold text-gray-900 text-sm\">\n                                                    {((`${user.firstName || ''} ${user.lastName || ''}`.trim()) || user.username || 'User')}\n                                                </h3>\n                                                <p className=\"text-gray-500 text-xs\">\n                                                    {user.email || ''}\n                                                </p>\n                                            </div>\n                                        </div>\n\n                                        <div className='h-0.5 bg-gray-200 my-2'></div>\n\n                                        {/* Menu Items */}\n                                        <div className=\"space-y-1\">\n                                            <HeadlessMenu.Item>\n                                                {({ active }) => (\n                                                    <Link\n                                                        href=\"/me\"\n                                                        className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-indigo-600' : 'hover:bg-gray-50 hover:text-indigo-600'}`}\n                                                    >\n                                                        <BookMarked className=\"w-4 h-4\" />\n                                                        មាតិការបស់ខ្ញុំ\n                                                    </Link>\n                                                )}\n                                            </HeadlessMenu.Item>\n                                            <HeadlessMenu.Item>\n                                                {({ active }) => (\n                                                    <button\n                                                        onClick={() => setShowFeedbackModal(true)}\n                                                        className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-indigo-600' : 'hover:bg-gray-50 hover:text-indigo-600'}`}\n                                                    >\n                                                        <MessageCircle className=\"w-4 h-4\" />\n                                                        ជួយផ្ដល់មតិ\n                                                    </button>\n                                                )}\n                                            </HeadlessMenu.Item>\n\n                                            <HeadlessMenu.Item>\n                                                {({ active }) => (\n                                                    <button\n                                                        onClick={handleLogout}\n                                                        className={`flex items-center gap-3 w-full text-left px-3 py-2.5 rounded-lg text-sm text-gray-700 no-underline font-medium transition-colors duration-200 ${active ? 'bg-gray-50 text-red-600' : 'hover:bg-gray-50 hover:text-red-600'}`}\n                                                    >\n                                                        <LogOut className=\"w-4 h-4\" />\n                                                        ចាកចេញ\n                                                    </button>\n                                                )}\n                                            </HeadlessMenu.Item>\n                                        </div>\n                                    </HeadlessMenu.Items>\n                                </Transition>\n                            </HeadlessMenu>\n                        ) : (\n                            <div className=\"ml-1\">\n                                <Link\n                                    href=\"/auth\"\n                                    className=\"bg-indigo-600 text-white px-4 py-3 rounded-xl font-semibold text-sm hover:bg-indigo-500 transition-colors duration-300 shadow-lg shadow-indigo-500/30 border border-white/20 flex items-center justify-between gap-2\"\n                                >\n                                    <UserIcon size={16} />\n                                    ចុះឈ្មោះ\n                                </Link>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n            <FeedbackModal\n                isOpen={showFeedbackModal}\n                onClose={() => setShowFeedbackModal(false)}\n            />\n        </>\n    );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAVA;;;;;;;;;;;AAYA,MAAM,WAAW;IACb;QACI,OAAO;QACP,MAAM,CAAC,KAAK,CAAC;QACb,MAAM,kSAAA,CAAA,WAAQ;QACd,OAAO;IACX;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,0RAAA,CAAA,SAAM;QACZ,OAAO;IACX;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,4SAAA,CAAA,gBAAa;QACnB,OAAO;IACX;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,kSAAA,CAAA,WAAQ;QACd,OAAO;IACX;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,0RAAA,CAAA,SAAM;QACZ,OAAO;IACX;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,oRAAA,CAAA,MAAG;QACT,OAAO;IACX;CACH;AAEc,SAAS;IACpB,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,iQAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IAGhC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAE3D,MAAM,eAAe;QACjB,IAAI;YACA,MAAM,CAAA,GAAA,iTAAA,CAAA,UAAO,AAAD,EAAE,8HAAA,CAAA,OAAI;YAClB,aAAa,UAAU,CAAC;YACxB,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACnC;IACJ;IAGA,qBACI;;0BACI,6WAAC;gBAAI,WAAU;0BACX,cAAA,6WAAC;oBAAI,WAAU;;sCAEX,6WAAC,2RAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACrB,6WAAC;oCAAI,KAAI;oCAAY,KAAI;oCAAO,WAAU;;;;;;8CAC1C,6WAAC;oCAAI,WAAU;;sDACX,6WAAC;4CAAK,WAAU;sDAAyD;;;;;;sDACzE,6WAAC;4CAAK,WAAU;sDAAoD;;;;;;;;;;;;;;;;;;sCAK5E,6WAAC,0TAAA,CAAA,OAAY;4BAAC,IAAG;4BAAM,WAAU;;8CAC7B,6WAAC,0TAAA,CAAA,OAAY,CAAC,MAAM;oCAAC,WAAU;8CAC3B,cAAA,6WAAC,sRAAA,CAAA,OAAI;wCAAC,MAAM;;;;;;;;;;;8CAGhB,6WAAC,sUAAA,CAAA,aAAU;oCACP,OAAM;oCACN,WAAU;oCACV,SAAQ;oCACR,OAAM;oCACN,WAAU;oCACV,SAAQ;8CAER,cAAA,6WAAC,0TAAA,CAAA,OAAY,CAAC,KAAK;wCAAC,WAAU;;0DAC1B,6WAAC;gDAAI,WAAU;0DACV,SAAS,GAAG,CAAC,CAAC;oDACX,MAAM,OAAO,KAAK,IAAI;oDACtB,gGAAgG;oDAChG,MAAM,cAAc,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;oDAC1C,MAAM,cAAc,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;oDAC3C,MAAM,WAAW,gBAAgB;oDACjC,qBACI,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;kEACb,kBACG,6WAAC,2RAAA,CAAA,UAAI;gEACD,MAAM,KAAK,IAAI;gEACf,WAAW,CAAC,2JAA2J,EAAE,WACnK,0EACA,+CACA;;kFAEN,6WAAC;wEAAK,MAAM;;;;;;oEACX,KAAK,KAAK;;;;;;;uDAVC,KAAK,IAAI;;;;;gDAezC;;;;;;4CAGH,CAAC,yBACE,6WAAC;gDAAI,WAAU;;kEACX,6WAAC;wDAAI,WAAU;;;;;;oDACd,qBACG;;0EACI,6WAAC;gEAAI,WAAU;;oEACV,MAAM,6BACH,6WAAC;wEACG,KAAK,KAAK,YAAY;wEACtB,KAAI;wEACJ,WAAU;wEACV,SAAS,CAAC;4EACL,EAAE,MAAM,CAAsB,GAAG,GAAG;wEACzC;;;;;6FAGJ,6WAAC;wEAAI,WAAU;kFACV,CAAC,AAAC,GAAG,MAAM,aAAa,GAAG,CAAC,EAAE,MAAM,YAAY,IAAI,CAAC,IAAI,MAAO,MAAM,YAAY,MAAM,SAAS,GAAG,EAAE,WAAW,GAAG,MAAM,CAAC;;;;;;kFAGpI,6WAAC;;0FACG,6WAAC;gFAAI,WAAU;0FACV,OAAQ,AAAC,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,EAAE,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,MAAO,KAAK,QAAQ,IAAI,YAAa;;;;;;0FAExG,6WAAC;gFAAI,WAAU;0FACV,OAAQ,KAAK,KAAK,IAAI,KAAM;;;;;;;;;;;;;;;;;;0EAIzC,6WAAC;gEAAI,WAAU;;kFACX,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;kFACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC,2RAAA,CAAA,UAAI;gFACD,MAAK;gFACL,WAAW,CAAC,8IAA8I,EAAE,SAAS,+BAA+B,0CAA0C;;kGAE9O,6WAAC,sSAAA,CAAA,aAAU;wFAAC,WAAU;;;;;;oFAAY;;;;;;;;;;;;kFAK9C,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;kFACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC;gFACG,SAAS,IAAM,qBAAqB;gFACpC,WAAW,CAAC,8IAA8I,EAAE,SAAS,+BAA+B,0CAA0C;;kGAE9O,6WAAC,4SAAA,CAAA,gBAAa;wFAAC,WAAU;;;;;;oFAAY;;;;;;;;;;;;kFAKjD,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;kFACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC;gFACG,SAAS;gFACT,WAAW,CAAC,8IAA8I,EAAE,SAAS,4BAA4B,uCAAuC;;kGAExO,6WAAC,8RAAA,CAAA,SAAM;wFAAC,WAAU;;;;;;oFAAY;;;;;;;;;;;;;;;;;;;uEAOlD,aAAa,UAAU,qBACvB,6WAAC;wDAAI,WAAU;kEACX,cAAA,6WAAC,2RAAA,CAAA,UAAI;4DACD,MAAK;4DACL,WAAU;;8EAEV,6WAAC,0RAAA,CAAA,WAAQ;oEAAC,MAAM;;;;;;gEAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAYtD,6WAAC;4BAAI,WAAU;;gCACV,SAAS,GAAG,CAAC,CAAC;oCACX,MAAM,OAAO,KAAK,IAAI;oCACtB,gGAAgG;oCAChG,MAAM,cAAc,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;oCAC1C,MAAM,cAAc,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;oCAC3C,MAAM,WAAW,gBAAgB;oCACjC,qBACI,6WAAC,2RAAA,CAAA,UAAI;wCAED,MAAM,KAAK,IAAI;wCACf,WAAW,CAAC,sIAAsI,EAAE,WAAW,+CAA+C,KAAK,KAAK,EAAE;;0DAE1N,6WAAC;gDAAK,MAAM;;;;;;4CACX,KAAK,KAAK;;uCALN,KAAK,IAAI;;;;;gCAQ1B;gCAGC,WAAW,aAAa,UAAU,OAAO,qBACtC,6WAAC,0TAAA,CAAA,OAAY;oCAAC,IAAG;oCAAM,WAAU;;sDAC7B,6WAAC,0TAAA,CAAA,OAAY,CAAC,MAAM;4CAAC,WAAU;sDAC1B,KAAK,YAAY,iBACd,6WAAC;gDAAI,KAAK,KAAK,YAAY;gDAAE,KAAI;gDAAU,WAAU;;;;;qEAErD,6WAAC;gDAAI,WAAU;0DACV,CAAC,AAAC,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,EAAE,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,MAAO,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,GAAG,EAAE,MAAM,CAAC;;;;;;;;;;;sDAKtH,6WAAC,sUAAA,CAAA,aAAU;4CACP,OAAM;4CACN,WAAU;4CACV,SAAQ;4CACR,OAAM;4CACN,WAAU;4CACV,SAAQ;sDAER,cAAA,6WAAC,0TAAA,CAAA,OAAY,CAAC,KAAK;gDAAC,WAAU;;kEAE1B,6WAAC;wDAAI,WAAU;;4DACV,KAAK,YAAY,iBACd,6WAAC;gEAAI,KAAK,KAAK,YAAY;gEAAE,KAAI;gEAAU,WAAU;;;;;qFAErD,6WAAC;gEAAI,WAAU;0EACV,CAAC,AAAC,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,EAAE,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,MAAO,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,GAAG,EAAE,MAAM,CAAC;;;;;;0EAGlH,6WAAC;;kFACG,6WAAC;wEAAG,WAAU;kFACR,AAAC,GAAG,KAAK,SAAS,IAAI,GAAG,CAAC,EAAE,KAAK,QAAQ,IAAI,IAAI,CAAC,IAAI,MAAO,KAAK,QAAQ,IAAI;;;;;;kFAEpF,6WAAC;wEAAE,WAAU;kFACR,KAAK,KAAK,IAAI;;;;;;;;;;;;;;;;;;kEAK3B,6WAAC;wDAAI,WAAU;;;;;;kEAGf,6WAAC;wDAAI,WAAU;;0EACX,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;0EACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC,2RAAA,CAAA,UAAI;wEACD,MAAK;wEACL,WAAW,CAAC,8IAA8I,EAAE,SAAS,+BAA+B,0CAA0C;;0FAE9O,6WAAC,sSAAA,CAAA,aAAU;gFAAC,WAAU;;;;;;4EAAY;;;;;;;;;;;;0EAK9C,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;0EACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC;wEACG,SAAS,IAAM,qBAAqB;wEACpC,WAAW,CAAC,8IAA8I,EAAE,SAAS,+BAA+B,0CAA0C;;0FAE9O,6WAAC,4SAAA,CAAA,gBAAa;gFAAC,WAAU;;;;;;4EAAY;;;;;;;;;;;;0EAMjD,6WAAC,0TAAA,CAAA,OAAY,CAAC,IAAI;0EACb,CAAC,EAAE,MAAM,EAAE,iBACR,6WAAC;wEACG,SAAS;wEACT,WAAW,CAAC,8IAA8I,EAAE,SAAS,4BAA4B,uCAAuC;;0FAExO,6WAAC,8RAAA,CAAA,SAAM;gFAAC,WAAU;;;;;;4EAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDAU1D,6WAAC;oCAAI,WAAU;8CACX,cAAA,6WAAC,2RAAA,CAAA,UAAI;wCACD,MAAK;wCACL,WAAU;;0DAEV,6WAAC,0RAAA,CAAA,WAAQ;gDAAC,MAAM;;;;;;4CAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQ9C,6WAAC,uKAAA,CAAA,UAAa;gBACV,QAAQ;gBACR,SAAS,IAAM,qBAAqB;;;;;;;;AAIpD","debugId":null}},
    {"offset": {"line": 1337, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/packages/services/auth.ts"],"sourcesContent":["import api from \"../config/axios\";\nimport { User, SignupData, SocialLoginData } from \"../types/auth\";\n\n// AUTH OPERATIONS\n\n// Register new user\nexport const signup = async (signupData: SignupData): Promise<User> => {\n  try {\n    const response = await api.post<User>(`/auth/signup`, signupData);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error during signup:\", error);\n    throw new Error(\"Failed to create account\");\n  }\n};\n\n// Social login\nexport const socialLogin = async (\n  socialData: SocialLoginData\n): Promise<User> => {\n  try {\n    const response = await api.post<User>(`/auth/social-login`, socialData);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error during social login:\", error);\n    throw new Error(\"Failed to login with social provider\");\n  }\n};\n\n// USER MANAGEMENT\n\n// Update user profile\nexport const updateProfile = async (\n  userId: number,\n  profileData: Partial<User>\n): Promise<User> => {\n  try {\n    const response = await api.put<User>(`/profile/${userId}`, profileData);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error updating profile:\", error);\n    throw new Error(\"Failed to update profile\");\n  }\n};\n\n// Get current user profile\nexport const getCurrentUser = async (): Promise<User> => {\n  try {\n    const response = await api.get<User>(`/me`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching current user:\", error);\n    throw new Error(\"Failed to fetch user profile\");\n  }\n};\n\n// ! FOR FUTURE\n\n// // Change password\n// export const changePassword = async (\n//   userId: number,\n//   currentPassword: string,\n//   newPassword: string\n// ): Promise<void> => {\n//   try {\n//     await api.put(`/change-password/${userId}`, {\n//       currentPassword,\n//       newPassword,\n//     });\n//   } catch (error) {\n//     console.error(\"Error changing password:\", error);\n//     throw new Error(\"Failed to change password\");\n//   }\n// };\n\n// // Delete user account\n// export const deleteAccount = async (userId: number): Promise<void> => {\n//   try {\n//     await api.delete(`/account/${userId}`);\n//   } catch (error) {\n//     console.error(\"Error deleting account:\", error);\n//     throw new Error(\"Failed to delete account\");\n//   }\n// };\n\n// // FORGOT PASSWORD\n\n// // Send password reset email\n// export const sendPasswordResetEmail = async (email: string): Promise<void> => {\n//   try {\n//     await api.post(`/forgot-password`, { email });\n//   } catch (error) {\n//     console.error(\"Error sending password reset email:\", error);\n//     throw new Error(\"Failed to send password reset email\");\n//   }\n// };\n\n// // Reset password with token\n// export const resetPassword = async (\n//   token: string,\n//   newPassword: string\n// ): Promise<void> => {\n//   try {\n//     await api.post(`/reset-password`, {\n//       token,\n//       newPassword,\n//     });\n//   } catch (error) {\n//     console.error(\"Error resetting password:\", error);\n//     throw new Error(\"Failed to reset password\");\n//   }\n// };\n\n// // VERIFICATION\n\n// // Send email verification\n// export const sendEmailVerification = async (userId: number): Promise<void> => {\n//   try {\n//     await api.post(`/send-verification/${userId}`);\n//   } catch (error) {\n//     console.error(\"Error sending email verification:\", error);\n//     throw new Error(\"Failed to send verification email\");\n//   }\n// };\n\n// // Verify email with token\n// export const verifyEmail = async (token: string): Promise<void> => {\n//   try {\n//     await api.post(`/verify-email`, { token });\n//   } catch (error) {\n//     console.error(\"Error verifying email:\", error);\n//     throw new Error(\"Failed to verify email\");\n//   }\n// };\n"],"names":[],"mappings":";;;;;;AAAA;;AAMO,MAAM,SAAS,OAAO;IAC3B,IAAI;QACF,MAAM,WAAW,MAAM,2HAAA,CAAA,UAAG,CAAC,IAAI,CAAO,CAAC,YAAY,CAAC,EAAE;QACtD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,cAAc,OACzB;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,2HAAA,CAAA,UAAG,CAAC,IAAI,CAAO,CAAC,kBAAkB,CAAC,EAAE;QAC5D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM,IAAI,MAAM;IAClB;AACF;AAKO,MAAM,gBAAgB,OAC3B,QACA;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,2HAAA,CAAA,UAAG,CAAC,GAAG,CAAO,CAAC,SAAS,EAAE,QAAQ,EAAE;QAC3D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,WAAW,MAAM,2HAAA,CAAA,UAAG,CAAC,GAAG,CAAO,CAAC,GAAG,CAAC;QAC1C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,MAAM,IAAI,MAAM;IAClB;AACF,GAEA,eAAe;CAEf,qBAAqB;CACrB,wCAAwC;CACxC,oBAAoB;CACpB,6BAA6B;CAC7B,wBAAwB;CACxB,wBAAwB;CACxB,UAAU;CACV,oDAAoD;CACpD,yBAAyB;CACzB,qBAAqB;CACrB,UAAU;CACV,sBAAsB;CACtB,wDAAwD;CACxD,oDAAoD;CACpD,MAAM;CACN,KAAK;CAEL,yBAAyB;CACzB,0EAA0E;CAC1E,UAAU;CACV,8CAA8C;CAC9C,sBAAsB;CACtB,uDAAuD;CACvD,mDAAmD;CACnD,MAAM;CACN,KAAK;CAEL,qBAAqB;CAErB,+BAA+B;CAC/B,kFAAkF;CAClF,UAAU;CACV,qDAAqD;CACrD,sBAAsB;CACtB,mEAAmE;CACnE,8DAA8D;CAC9D,MAAM;CACN,KAAK;CAEL,+BAA+B;CAC/B,uCAAuC;CACvC,mBAAmB;CACnB,wBAAwB;CACxB,wBAAwB;CACxB,UAAU;CACV,0CAA0C;CAC1C,eAAe;CACf,qBAAqB;CACrB,UAAU;CACV,sBAAsB;CACtB,yDAAyD;CACzD,mDAAmD;CACnD,MAAM;CACN,KAAK;CAEL,kBAAkB;CAElB,6BAA6B;CAC7B,kFAAkF;CAClF,UAAU;CACV,sDAAsD;CACtD,sBAAsB;CACtB,iEAAiE;CACjE,4DAA4D;CAC5D,MAAM;CACN,KAAK;CAEL,6BAA6B;CAC7B,uEAAuE;CACvE,UAAU;CACV,kDAAkD;CAClD,sBAAsB;CACtB,sDAAsD;CACtD,iDAAiD;CACjD,MAAM;CACN,KAAK","debugId":null}},
    {"offset": {"line": 1454, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/packages/services/upload.ts"],"sourcesContent":["import api from \"../config/axios\";\nimport { UploadUrlResponse } from \"../types/uploadUrl\";\nimport axios from \"axios\";\n\n// UPLOAD HELPERS ==============================================================\n\n// Get presigned URL for file upload\nexport const getUploadUrl = async (\n  fileName: string,\n  fileType: string\n): Promise<UploadUrlResponse> => {\n  try {\n    const response = await api.post<UploadUrlResponse>(\n      `/upload/upload-url`,\n      {\n        fileName,\n        fileType,\n      },\n      { withCredentials: true }\n    );\n    return response.data;\n  } catch (error) {\n    console.error(\"Error getting upload URL:\", error);\n    throw new Error(\"Failed to get upload URL\");\n  }\n};\n\n// Upload file to R2 using presigned URL\nexport const uploadFileToR2 = async (\n  signedUrl: string,\n  file: File\n): Promise<void> => {\n  try {\n    await axios.put(signedUrl, file, {\n      headers: {\n        \"Content-Type\": file.type,\n      },\n    });\n  } catch (error) {\n    console.error(\"Error uploading file to R2:\", error);\n    throw new Error(\"Failed to upload file\");\n  }\n};\n\n// UPLOAD OPERATIONS ===========================================================\n\n// Complete file upload process (get URL + upload)\nexport const uploadFile = async (file: File): Promise<string> => {\n  try {\n    const { signedUrl, key } = await getUploadUrl(file.name, file.type);\n    await uploadFileToR2(signedUrl, file);\n    return key;\n  } catch (error) {\n    console.error(\"Error uploading file:\", error);\n    throw new Error(\"Failed to upload file\");\n  }\n};\n\n// Upload multiple files\nexport const uploadMultipleFiles = async (files: File[]): Promise<string[]> => {\n  try {\n    const uploadPromises = files.map((file) => uploadFile(file));\n    return await Promise.all(uploadPromises);\n  } catch (error) {\n    console.error(\"Error uploading multiple files:\", error);\n    throw new Error(\"Failed to upload files\");\n  }\n};\n\n// Upload file with progress callback\nexport const uploadFileWithProgress = async (\n  file: File,\n  onProgress?: (progress: number) => void\n): Promise<string> => {\n  try {\n    const { signedUrl, key } = await getUploadUrl(file.name, file.type);\n\n    await api.put(signedUrl, file, {\n      headers: {\n        \"Content-Type\": file.type,\n      },\n      onUploadProgress: (progressEvent) => {\n        if (onProgress && progressEvent.total) {\n          const progress = Math.round(\n            (progressEvent.loaded * 100) / progressEvent.total\n          );\n          onProgress(progress);\n        }\n      },\n    });\n\n    return key;\n  } catch (error) {\n    console.error(\"Error uploading file with progress:\", error);\n    throw new Error(\"Failed to upload file\");\n  }\n};\n"],"names":[],"mappings":";;;;;;;AAAA;AAEA;;;AAKO,MAAM,eAAe,OAC1B,UACA;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,2HAAA,CAAA,UAAG,CAAC,IAAI,CAC7B,CAAC,kBAAkB,CAAC,EACpB;YACE;YACA;QACF,GACA;YAAE,iBAAiB;QAAK;QAE1B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,iBAAiB,OAC5B,WACA;IAEA,IAAI;QACF,MAAM,wLAAA,CAAA,UAAK,CAAC,GAAG,CAAC,WAAW,MAAM;YAC/B,SAAS;gBACP,gBAAgB,KAAK,IAAI;YAC3B;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,IAAI,MAAM;IAClB;AACF;AAKO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,MAAM,aAAa,KAAK,IAAI,EAAE,KAAK,IAAI;QAClE,MAAM,eAAe,WAAW;QAChC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,sBAAsB,OAAO;IACxC,IAAI;QACF,MAAM,iBAAiB,MAAM,GAAG,CAAC,CAAC,OAAS,WAAW;QACtD,OAAO,MAAM,QAAQ,GAAG,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM,IAAI,MAAM;IAClB;AACF;AAGO,MAAM,yBAAyB,OACpC,MACA;IAEA,IAAI;QACF,MAAM,EAAE,SAAS,EAAE,GAAG,EAAE,GAAG,MAAM,aAAa,KAAK,IAAI,EAAE,KAAK,IAAI;QAElE,MAAM,2HAAA,CAAA,UAAG,CAAC,GAAG,CAAC,WAAW,MAAM;YAC7B,SAAS;gBACP,gBAAgB,KAAK,IAAI;YAC3B;YACA,kBAAkB,CAAC;gBACjB,IAAI,cAAc,cAAc,KAAK,EAAE;oBACrC,MAAM,WAAW,KAAK,KAAK,CACzB,AAAC,cAAc,MAAM,GAAG,MAAO,cAAc,KAAK;oBAEpD,WAAW;gBACb;YACF;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,MAAM,IAAI,MAAM;IAClB;AACF","debugId":null}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/packages/utils/validator.ts"],"sourcesContent":["// VALIDATION UTILITIES ========================================================\n\n// Email validation\nexport const isValidEmail = (email: string): boolean => {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n};\n\n// Username validation\nexport const isValidUsername = (username: string): boolean => {\n  return (\n    username.length >= 3 &&\n    username.length <= 20 &&\n    /^[a-zA-Z0-9_]+$/.test(username)\n  );\n};\n\n// Password validation\nexport const isValidPassword = (password: string): boolean => {\n  return password.length >= 6;\n};\n\n// Phone number validation\nexport const isValidPhone = (phone: string): boolean => {\n  return /^[0-9+\\-\\s()]+$/.test(phone);\n};\n\n// Strong password validation (optional enhanced version)\nexport const isStrongPassword = (password: string): boolean => {\n  // At least 8 characters, 1 uppercase, 1 lowercase, 1 number, 1 special character\n  const strongPasswordRegex =\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n  return strongPasswordRegex.test(password);\n};\n\n// URL validation\nexport const isValidUrl = (url: string): boolean => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// Date validation\nexport const isValidDate = (date: string): boolean => {\n  const dateObj = new Date(date);\n  return dateObj instanceof Date && !isNaN(dateObj.getTime());\n};\n\n// Age validation (must be at least 3 years old)\nexport const isValidAge = (dateOfBirth: string): boolean => {\n  const birthDate = new Date(dateOfBirth);\n  const today = new Date();\n  const age = today.getFullYear() - birthDate.getFullYear();\n  const monthDiff = today.getMonth() - birthDate.getMonth();\n\n  if (\n    monthDiff < 0 ||\n    (monthDiff === 0 && today.getDate() < birthDate.getDate())\n  ) {\n    return age - 1 >= 3;\n  }\n\n  return age >= 3;\n};\n\n// File validation\nexport const isValidImageFile = (file: File): boolean => {\n  const allowedTypes = [\n    \"image/jpeg\",\n    \"image/jpg\",\n    \"image/png\",\n    \"image/gif\",\n    \"image/webp\",\n  ];\n  const maxSize = 5 * 1024 * 1024; // 5MB\n\n  return allowedTypes.includes(file.type) && file.size <= maxSize;\n};\n\nexport const isValidVideoFile = (file: File): boolean => {\n  const allowedTypes = [\n    \"video/mp4\",\n    \"video/webm\",\n    \"video/ogg\",\n    \"video/avi\",\n    \"video/mov\",\n  ];\n  const maxSize = 100 * 1024 * 1024; // 100MB\n\n  return allowedTypes.includes(file.type) && file.size <= maxSize;\n};\n\n// Form validation helpers\nexport const validateLoginForm = (\n  identifier: string,\n  password: string\n): boolean => {\n  return identifier.trim().length > 0 && password.trim().length > 0;\n};\n\nexport const validateSignupForm = (formData: {\n  username: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string;\n  confirmPassword: string;\n  dateOfBirth: string;\n  phone: string;\n}): boolean => {\n  return (\n    formData.username.trim().length > 0 &&\n    formData.firstName.trim().length > 0 &&\n    formData.lastName.trim().length > 0 &&\n    formData.email.trim().length > 0 &&\n    formData.password.trim().length > 0 &&\n    formData.confirmPassword.trim().length > 0 &&\n    formData.dateOfBirth.length > 0 &&\n    formData.phone.trim().length > 0 &&\n    isValidUsername(formData.username) &&\n    isValidEmail(formData.email) &&\n    isValidPassword(formData.password) &&\n    formData.password === formData.confirmPassword &&\n    isValidPhone(formData.phone) &&\n    isValidDate(formData.dateOfBirth) &&\n    isValidAge(formData.dateOfBirth)\n  );\n};\n\n// Error message generators\nexport const getValidationError = (field: string, value: string): string => {\n  switch (field) {\n    case \"email\":\n      return !isValidEmail(value) ? \"សូមបញ្ចូលអ៊ីមែលត្រឹមត្រូវ\" : \"\";\n    case \"username\":\n      return !isValidUsername(value)\n        ? \"ឈ្មោះអ្នកប្រើប្រាស់ត្រូវតែមាន 3-20 តួអក្សរ និងមិនមានអក្សរពិសេស\"\n        : \"\";\n    case \"password\":\n      return !isValidPassword(value)\n        ? \"ពាក្យសម្ងាត់ត្រូវតែមានយ៉ាងតិច 6 តួអក្សរ\"\n        : \"\";\n    case \"phone\":\n      return !isValidPhone(value) ? \"សូមបញ្ចូលលេខទូរស័ព្ទត្រឹមត្រូវ\" : \"\";\n    case \"dateOfBirth\":\n      if (!isValidDate(value)) return \"សូមបញ្ចូលថ្ងៃខែឆ្នាំត្រឹមត្រូវ\";\n      if (!isValidAge(value)) return \"អ្នកត្រូវតែមានអាយុយ៉ាងតិច 3 ឆ្នាំ\";\n      return \"\";\n    default:\n      return \"\";\n  }\n};\n\n// Password confirmation validation\nexport const validatePasswordConfirmation = (\n  password: string,\n  confirmPassword: string\n): string => {\n  return password !== confirmPassword ? \"ពាក្យសម្ងាត់មិនត្រូវគ្នា\" : \"\";\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1645, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/pages/auth/LogIn.tsx"],"sourcesContent":["'use client';\n\nimport { Eye, EyeOff, Mail, Lock } from 'lucide-react';\nimport Link from 'next/link';\n\ninterface LoginFormProps {\n    loginIdentifier: string;\n    setLoginIdentifier: (value: string) => void;\n    loginPassword: string;\n    setLoginPassword: (value: string) => void;\n    showPassword: boolean;\n    setShowPassword: (show: boolean) => void;\n    isLoginValid: () => boolean;\n    handleLogin: (e: React.FormEvent) => void;\n    isSubmitting?: boolean;\n    errorMessage?: string | null;\n}\n\nexport default function LogIn({\n    loginIdentifier,\n    setLoginIdentifier,\n    loginPassword,\n    setLoginPassword,\n    showPassword,\n    setShowPassword,\n    isLoginValid,\n    handleLogin,\n    isSubmitting = false,\n    errorMessage = null,\n}: LoginFormProps) {\n    return (\n        <form onSubmit={handleLogin} className=\"space-y-4 mx-auto\">\n            \n            <div>\n                <label className=\"block text-sm font-medium text-black mb-2\">\n                    អ៊ីមែល ឬ ឈ្មោះអ្នកប្រើប្រាស់\n                </label>\n                <div className=\"relative\">\n                    <Mail size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                    <input\n                        type=\"text\"\n                        value={loginIdentifier}\n                        onChange={(e) => setLoginIdentifier(e.target.value)}\n                        className=\"w-full pl-10 pr-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                        placeholder=\"បញ្ចូលអ៊ីមែល ឬ ឈ្មោះអ្នកប្រើប្រាស់\"\n                        disabled={isSubmitting}\n                    />\n                </div>\n            </div>\n\n            <div>\n                <label className=\"block text-sm font-medium text-black mb-2\">\n                    ពាក្យសម្ងាត់\n                </label>\n                <div className=\"relative\">\n                    <Lock size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                    <input\n                        type={showPassword ? 'text' : 'password'}\n                        value={loginPassword}\n                        onChange={(e) => setLoginPassword(e.target.value)}\n                        className=\"w-full pl-10 pr-12 py-3 border border-indigo-500/20 rounded-xl bg-white/80 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                        placeholder=\"បញ្ចូលពាក្យសម្ងាត់\"\n                        disabled={isSubmitting}\n                    />\n                    <button\n                        type=\"button\"\n                        onClick={() => setShowPassword(!showPassword)}\n                        className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-indigo-600 hover:text-gray-600 transition-colors\"\n                        disabled={isSubmitting}\n                    >\n                        {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                    </button>\n                </div>\n            </div>\n\n            {errorMessage && (\n                <div className=\"w-full rounded-lg border border-red-200 bg-red-50 text-red-700 text-sm p-3\">\n                    {errorMessage}\n                </div>\n            )}\n\n            {/* <div className=\"flex items-center justify-between\">\n                <label className=\"flex items-center\">\n                    <input\n                        type=\"checkbox\"\n                        className=\"w-4 h-4 text-indigo-600 border-indigo-500/30 rounded focus:ring-indigo-500/30\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-600\">ចងចាំខ្ញុំ</span>\n                </label>\n                <Link href=\"/forgot-password\" className=\"text-sm text-indigo-600 hover:text-indigo-500 font-medium\">\n                    ភ្លេចពាក្យសម្ងាត់?\n                </Link>\n            </div> */}\n\n            <button\n                type=\"submit\"\n                disabled={!isLoginValid() || isSubmitting}\n                className=\"w-full bg-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-indigo-500 transition-colors duration-300 shadow-lg shadow-indigo-500/30 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n                {isSubmitting ? 'កំពុងចូល...' : 'ចូលទៅកាន់'}\n            </button>\n        </form>\n    );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAkBe,SAAS,MAAM,EAC1B,eAAe,EACf,kBAAkB,EAClB,aAAa,EACb,gBAAgB,EAChB,YAAY,EACZ,eAAe,EACf,YAAY,EACZ,WAAW,EACX,eAAe,KAAK,EACpB,eAAe,IAAI,EACN;IACb,qBACI,6WAAC;QAAK,UAAU;QAAa,WAAU;;0BAEnC,6WAAC;;kCACG,6WAAC;wBAAM,WAAU;kCAA4C;;;;;;kCAG7D,6WAAC;wBAAI,WAAU;;0CACX,6WAAC,sRAAA,CAAA,OAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC1B,6WAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;gCAClD,WAAU;gCACV,aAAY;gCACZ,UAAU;;;;;;;;;;;;;;;;;;0BAKtB,6WAAC;;kCACG,6WAAC;wBAAM,WAAU;kCAA4C;;;;;;kCAG7D,6WAAC;wBAAI,WAAU;;0CACX,6WAAC,sRAAA,CAAA,OAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC1B,6WAAC;gCACG,MAAM,eAAe,SAAS;gCAC9B,OAAO;gCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;gCAChD,WAAU;gCACV,aAAY;gCACZ,UAAU;;;;;;0CAEd,6WAAC;gCACG,MAAK;gCACL,SAAS,IAAM,gBAAgB,CAAC;gCAChC,WAAU;gCACV,UAAU;0CAET,6BAAe,6WAAC,8RAAA,CAAA,SAAM;oCAAC,MAAM;;;;;yDAAS,6WAAC,oRAAA,CAAA,MAAG;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;YAK7D,8BACG,6WAAC;gBAAI,WAAU;0BACV;;;;;;0BAiBT,6WAAC;gBACG,MAAK;gBACL,UAAU,CAAC,kBAAkB;gBAC7B,WAAU;0BAET,eAAe,gBAAgB;;;;;;;;;;;;AAIhD","debugId":null}},
    {"offset": {"line": 1803, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/pages/auth/SignUp.tsx"],"sourcesContent":["'use client';\n\nimport { Eye, EyeOff, Mail, Lock, Phone, Calendar, Upload } from 'lucide-react';\nimport Link from 'next/link';\nimport { getValidationError, validatePasswordConfirmation } from '@core-utils/validator';\n\ninterface SignupFormProps {\n    signupData: {\n        username: string;\n        firstName: string;\n        lastName: string;\n        email: string;\n        password: string;\n        confirmPassword: string;\n        dateOfBirth: string;\n        phone: string;\n        profileImage: File | null;\n    };\n    setSignupData: React.Dispatch<React.SetStateAction<{\n        username: string;\n        firstName: string;\n        lastName: string;\n        email: string;\n        password: string;\n        confirmPassword: string;\n        dateOfBirth: string;\n        phone: string;\n        profileImage: File | null;\n    }>>;\n    showPassword: boolean;\n    setShowPassword: (show: boolean) => void;\n    showConfirmPassword: boolean;\n    setShowConfirmPassword: (show: boolean) => void;\n    isSignupValid: () => boolean;\n    handleSignup: (e: React.FormEvent) => void;\n    handleProfileImageChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n    isSubmitting?: boolean;\n    errorMessage?: string | null;\n}\n\nexport default function SignUp({\n    signupData,\n    setSignupData,\n    showPassword,\n    setShowPassword,\n    showConfirmPassword,\n    setShowConfirmPassword,\n    isSignupValid,\n    handleSignup,\n    handleProfileImageChange,\n    isSubmitting = false,\n    errorMessage = null,\n}: SignupFormProps) {\n    return (\n        <form onSubmit={handleSignup} className=\"space-y-6 mx-auto\">\n            {/* Profile Image and Basic Info Row */}\n            <div className=\"flex flex-col lg:flex-row gap-6 items-start\">\n                {/* Profile Image */}\n                <div className=\"flex-shrink-0\">\n                    <label className=\"block text-sm font-medium text-black mb-2\">\n                        រូបផ្ទាល់ខ្លួន\n                    </label>\n                    <div className=\"relative\">\n                        <div className=\"w-32 h-32 rounded-full border-2 border-indigo-300 bg-gray-100 flex items-center justify-center overflow-hidden\">\n                            {signupData.profileImage ? (\n                                <img\n                                    src={URL.createObjectURL(signupData.profileImage)}\n                                    alt=\"Profile preview\"\n                                    className=\"w-full h-full object-cover\"\n                                />\n                            ) : (\n                                <Upload size={32} className=\"text-indigo-400\" />\n                            )}\n                        </div>\n                        <input\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleProfileImageChange}\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                            disabled={isSubmitting}\n                        />\n                    </div>\n                    {signupData.profileImage && (\n                        <p className=\"text-green-600 text-xs mt-1 text-center\">រូបផ្ទាល់ខ្លួនត្រូវបានជ្រើសរើស</p>\n                    )}\n                </div>\n\n                {/* Username, First Name, Last Name */}\n                <div className=\"flex-1 space-y-4 w-full\">\n                    <div>\n                        <label className=\"block text-sm font-medium text-black mb-2\">\n                            ឈ្មោះអ្នកប្រើប្រាស់\n                        </label>\n                        <input\n                            type=\"text\"\n                            value={signupData.username}\n                            onChange={(e) => setSignupData(prev => ({ ...prev, username: e.target.value }))}\n                            className=\"w-full px-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                            placeholder=\"បញ្ចូលឈ្មោះអ្នកប្រើប្រាស់\"\n                            disabled={isSubmitting}\n                        />\n                        {signupData.username && getValidationError('username', signupData.username) && (\n                            <p className=\"text-red-500 text-xs mt-1\">{getValidationError('username', signupData.username)}</p>\n                        )}\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-3\">\n                        <div>\n                            <label className=\"block text-sm font-medium text-black mb-2\">\n                                ឈ្មោះ\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={signupData.firstName}\n                                onChange={(e) => setSignupData(prev => ({ ...prev, firstName: e.target.value }))}\n                                className=\"w-full px-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                                placeholder=\"ឈ្មោះ\"\n                                disabled={isSubmitting}\n                            />\n                        </div>\n                        <div>\n                            <label className=\"block text-sm font-medium text-black mb-2\">\n                                នាមត្រកូល\n                            </label>\n                            <input\n                                type=\"text\"\n                                value={signupData.lastName}\n                                onChange={(e) => setSignupData(prev => ({ ...prev, lastName: e.target.value }))}\n                                className=\"w-full px-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                                placeholder=\"នាមត្រកូល\"\n                                disabled={isSubmitting}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Email */}\n            <div>\n                <label className=\"block text-sm font-medium text-black mb-2\">\n                    អ៊ីមែល\n                </label>\n                <div className=\"relative\">\n                    <Mail size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                    <input\n                        type=\"email\"\n                        value={signupData.email}\n                        onChange={(e) => setSignupData(prev => ({ ...prev, email: e.target.value }))}\n                        className=\"w-full pl-10 pr-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                        placeholder=\"បញ្ចូលអ៊ីមែលរបស់អ្នក\"\n                        disabled={isSubmitting}\n                    />\n                </div>\n                {signupData.email && getValidationError('email', signupData.email) && (\n                    <p className=\"text-red-500 text-xs mt-1\">{getValidationError('email', signupData.email)}</p>\n                )}\n            </div>\n\n            {/* Password and Confirm Password */}\n            <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                    <label className=\"block text-sm font-medium text-black mb-2\">\n                        ពាក្យសម្ងាត់\n                    </label>\n                    <div className=\"relative\">\n                        <Lock size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                        <input\n                            type={showPassword ? 'text' : 'password'}\n                            value={signupData.password}\n                            onChange={(e) => setSignupData(prev => ({ ...prev, password: e.target.value }))}\n                            className=\"w-full pl-10 pr-12 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                            placeholder=\"បង្កើតពាក្យសម្ងាត់\"\n                            disabled={isSubmitting}\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowPassword(!showPassword)}\n                            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-indigo-600 hover:text-gray-600 transition-colors\"\n                            disabled={isSubmitting}\n                        >\n                            {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                        </button>\n                    </div>\n                    {signupData.password && getValidationError('password', signupData.password) && (\n                        <p className=\"text-red-500 text-xs mt-1\">{getValidationError('password', signupData.password)}</p>\n                    )}\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-black mb-2\">\n                        បញ្ជាក់ពាក្យសម្ងាត់\n                    </label>\n                    <div className=\"relative\">\n                        <Lock size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                        <input\n                            type={showConfirmPassword ? 'text' : 'password'}\n                            value={signupData.confirmPassword}\n                            onChange={(e) => setSignupData(prev => ({ ...prev, confirmPassword: e.target.value }))}\n                            className=\"w-full pl-10 pr-12 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                            placeholder=\"បញ្ជាក់ពាក្យសម្ងាត់ម្តងទៀត\"\n                            disabled={isSubmitting}\n                        />\n                        <button\n                            type=\"button\"\n                            onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-indigo-600 hover:text-gray-600 transition-colors\"\n                            disabled={isSubmitting}\n                        >\n                            {showConfirmPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n                        </button>\n                    </div>\n                    {signupData.confirmPassword && validatePasswordConfirmation(signupData.password, signupData.confirmPassword) && (\n                        <p className=\"text-red-500 text-xs mt-1\">{validatePasswordConfirmation(signupData.password, signupData.confirmPassword)}</p>\n                    )}\n                </div>\n            </div>\n\n            {/* Date of Birth and Phone */}\n            <div className=\"grid grid-cols-2 gap-3\">\n                <div>\n                    <label className=\"block text-sm font-medium text-black mb-2\">\n                        ថ្ងៃខែឆ្នាំកំណើត\n                    </label>\n                    <div className=\"relative\">\n                        <Calendar size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                        <input\n                            type=\"date\"\n                            value={signupData.dateOfBirth}\n                            onChange={(e) => setSignupData(prev => ({ ...prev, dateOfBirth: e.target.value }))}\n                            className=\"w-full pl-10 pr-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                            disabled={isSubmitting}\n                        />\n                        {signupData.dateOfBirth && getValidationError('dateOfBirth', signupData.dateOfBirth) && (\n                            <p className=\"text-red-500 text-xs mt-1\">{getValidationError('dateOfBirth', signupData.dateOfBirth)}</p>\n                        )}\n                    </div>\n                </div>\n                <div>\n                    <label className=\"block text-sm font-medium text-black mb-2\">\n                        លេខទូរស័ព្ទ\n                    </label>\n                    <div className=\"relative\">\n                        <Phone size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-600 z-10\" />\n                        <input\n                            type=\"tel\"\n                            value={signupData.phone}\n                            onChange={(e) => setSignupData(prev => ({ ...prev, phone: e.target.value }))}\n                            className=\"w-full pl-10 pr-4 py-3 border border-indigo-500/20 rounded-xl bg-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500/40 transition-all duration-300\"\n                            placeholder=\"លេខទូរស័ព្ទ\"\n                            disabled={isSubmitting}\n                        />\n                    </div>\n                    {signupData.phone && getValidationError('phone', signupData.phone) && (\n                        <p className=\"text-red-500 text-xs mt-1\">{getValidationError('phone', signupData.phone)}</p>\n                    )}\n                </div>\n            </div>\n\n            {errorMessage && (\n                <div className=\"w-full rounded-lg border border-red-200 bg-red-50 text-red-700 text-sm p-3\">\n                    {errorMessage}\n                </div>\n            )}\n\n            {/* <div className=\"flex items-start\">\n                <input\n                    type=\"checkbox\"\n                    className=\"w-4 h-4 text-indigo-600 border-indigo-500/30 rounded focus:ring-indigo-500/30 mt-1\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">\n                    ខ្ញុំយល់ស្របជាមួយ <Link href=\"/terms\" className=\"text-indigo-600 hover:text-indigo-500 font-medium\">លក្ខខណ្ឌ</Link> និង <Link href=\"/privacy\" className=\"text-indigo-600 hover:text-indigo-500 font-medium\">គោលការណ៍ភាពឯកជន</Link>\n                </span>\n            </div> */}\n\n            <button\n                type=\"submit\"\n                disabled={!isSignupValid() || isSubmitting}\n                className=\"w-full bg-indigo-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-indigo-500 transition-colors duration-300 shadow-lg shadow-indigo-500/30 border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n                {isSubmitting ? 'កំពុងចុះឈ្មោះ...' : 'ចុះឈ្មោះ'}\n            </button>\n        </form>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2392, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/pages/auth/AuthModal.tsx"],"sourcesContent":["'use client';\n\nimport { Fragment, useState } from 'react';\nimport { Dialog, Transition } from '@headlessui/react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { auth, googleProvider, microsoftProvider, githubProvider } from '@core-configs/firebase';\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup } from 'firebase/auth';\nimport { getCurrentUser, signup, socialLogin } from '@core-services/auth';\nimport { uploadFile } from '@core-services/upload';\nimport {\n    validateLoginForm,\n    validateSignupForm,\n} from '@core-utils/validator';\nimport LogIn from '@components/pages/auth/LogIn';\nimport SignUp from '@components/pages/auth/SignUp';\nimport Header from '@components/common/Header';\n\ntype ProviderKey = 'google' | 'github' | 'microsoft';\n\ninterface AuthModalProps {\n    open: boolean;\n    onClose: () => void;\n}\n\nconst socialPlatforms: Array<{ name: string; provider: ProviderKey; icon: React.ReactNode }> = [\n    {\n        name: 'Google',\n        provider: 'google',\n        icon: (\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\n                <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\n                <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\n                <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\n            </svg>\n        )\n    },\n    {\n        name: 'Microsoft',\n        provider: 'microsoft',\n        icon: (\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 23 23\" fill=\"#00A4EF\">\n                <path d=\"M0 0h11v11H0zm12 0h11v11H12zM0 12h11v11H0zm12 0h11v11H12z\" />\n            </svg>\n        )\n    },\n    {\n        name: 'GitHub',\n        provider: 'github',\n        icon: (\n            <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\">\n                <path fillRule=\"evenodd\" d=\"M12 .5C5.73.5.99 5.24.99 11.5c0 4.85 3.14 8.96 7.49 10.41.55.1.75-.24.75-.52 0-.26-.01-.95-.02-1.87-3.05.66-3.7-1.47-3.7-1.47-.5-1.27-1.22-1.61-1.22-1.61-.99-.68.08-.66.08-.66 1.1.08 1.68 1.12 1.68 1.12.98 1.67 2.56 1.19 3.19.9.1-.71.38-1.19.69-1.46-2.44-.28-5.01-1.22-5.01-5.43 0-1.2.43-2.17 1.12-2.93-.11-.28-.49-1.41.11-2.94 0 0 .93-.3 3.05 1.12.88-.25 1.82-.38 2.76-.39.94.01 1.88.14 2.76.39 2.12-1.42 3.05-1.12 3.05-1.12.6 1.53.22 2.66.11 2.94.69.76 1.12 1.73 1.12 2.93 0 4.22-2.57 5.14-5.02 5.42.39.34.73 1.02.73 2.06 0 1.49-.01 2.69-.01 3.05 0 .29.2.63.76.52 4.34-1.45 7.48-5.56 7.48-10.41C23.01 5.24 18.27.5 12 .5z\" clipRule=\"evenodd\" />\n            </svg>\n        )\n    },\n];\n\nexport default function AuthModal({ open, onClose }: AuthModalProps) {\n    const router = useRouter();\n    const [activeTab, setActiveTab] = useState<'login' | 'signup'>('login');\n    const [showPassword, setShowPassword] = useState(false);\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [formError, setFormError] = useState<string | null>(null);\n\n    // Login form state\n    const [loginIdentifier, setLoginIdentifier] = useState('');\n    const [loginPassword, setLoginPassword] = useState('');\n\n    // Signup form state\n    const [signupData, setSignupData] = useState({\n        username: '',\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        dateOfBirth: '',\n        phone: '',\n        profileImage: null as File | null\n    });\n\n    const isLoginValid = () => validateLoginForm(loginIdentifier, loginPassword);\n    const isSignupValid = () => validateSignupForm(signupData);\n\n    const closeAndReset = () => {\n        setIsSubmitting(false);\n        setFormError(null);\n        onClose();\n    };\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!isLoginValid()) return;\n\n        setFormError(null);\n        setIsSubmitting(true);\n\n        try {\n            const result = await signInWithEmailAndPassword(auth, loginIdentifier, loginPassword);\n            await result.user.getIdToken(true);\n            const userData = await getCurrentUser();\n            localStorage.setItem('user', JSON.stringify(userData));\n            closeAndReset();\n            router.push('/');\n        } catch (error: unknown) {\n            console.error('Login error:', error);\n            const message = error instanceof Error ? error.message : 'មានបញ្ហាក្នុងការចូល';\n            setFormError(message);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleSignup = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!isSignupValid()) return;\n\n        setFormError(null);\n        setIsSubmitting(true);\n\n        try {\n            let imageKey = '';\n            if (signupData.profileImage) {\n                try {\n                    imageKey = await uploadFile(signupData.profileImage);\n                } catch (uploadErr) {\n                    console.error('Upload error:', uploadErr);\n                    setFormError('បញ្ហាក្នុងការបង្ហោះរូបភាព');\n                    setIsSubmitting(false);\n                    return;\n                }\n            }\n\n            const result = await createUserWithEmailAndPassword(auth, signupData.email, signupData.password);\n            const userData = await signup({\n                email: signupData.email,\n                username: signupData.username,\n                uid: result.user.uid,\n                firstName: signupData.firstName,\n                lastName: signupData.lastName,\n                dateOfBirth: signupData.dateOfBirth,\n                phone: signupData.phone,\n                profileImageKey: imageKey,\n            });\n\n            localStorage.setItem('user', JSON.stringify(userData));\n            closeAndReset();\n            router.push('/');\n        } catch (error: unknown) {\n            console.error('Signup error:', error);\n            const message = error instanceof Error ? error.message : 'មានបញ្ហាក្នុងការចុះឈ្មោះ';\n            setFormError(message);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleSocialLogin = async (providerKey: ProviderKey) => {\n        setFormError(null);\n        setIsSubmitting(true);\n        try {\n            const provider = providerKey === 'google' ? googleProvider : providerKey === 'github' ? githubProvider : microsoftProvider;\n            const result = await signInWithPopup(auth, provider);\n            const userData = await socialLogin({\n                provider: providerKey,\n                email: result.user.email || '',\n                username: result.user.displayName || '',\n                uid: result.user.uid,\n                firstName: result.user.displayName?.split(' ')[0] || '',\n                lastName: result.user.displayName?.split(' ').slice(1).join(' ') || '',\n                dateOfBirth: null,\n                phone: '',\n                profileImage: result.user.photoURL,\n                profileImageKey: null,\n            });\n\n            localStorage.setItem('user', JSON.stringify(userData));\n            closeAndReset();\n            router.push('/');\n        } catch (error: unknown) {\n            console.error('Social login error:', error);\n            const message = error instanceof Error ? error.message : 'មានបញ្ហាក្នុងការចូលដោយប្រើគណនីសង្គម';\n            setFormError(message);\n        } finally {\n            setIsSubmitting(false);\n        }\n    };\n\n    const handleProfileImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const file = e.target.files?.[0];\n        if (file) {\n            setSignupData(prev => ({ ...prev, profileImage: file }));\n        }\n    };\n\n    return (\n        <Transition.Root show={open} as={Fragment}>\n            <Dialog as=\"div\" className=\"relative z-50\" onClose={() => { }}>\n                {/* Backdrop */}\n                <Transition.Child\n                    as={Fragment}\n                    enter=\"ease-out duration-200\"\n                    enterFrom=\"opacity-0\"\n                    enterTo=\"opacity-100\"\n                    leave=\"ease-in duration-150\"\n                    leaveFrom=\"opacity-100\"\n                    leaveTo=\"opacity-0\"\n                >\n                    <div className=\"fixed inset-0 bg-black/20 backdrop-blur-[6px]\" />\n                </Transition.Child>\n                <Header></Header>\n\n                {/* Centered panel */}\n                <div className=\"fixed inset-0 overflow-y-auto\">\n                    <div className=\"flex min-h-full items-center justify-center py-20\">\n                        <Transition.Child\n                            as={Fragment}\n                            enter=\"ease-out duration-200\"\n                            enterFrom=\"opacity-0 translate-y-2 sm:scale-95\"\n                            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n                            leave=\"ease-in duration-150\"\n                            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n                            leaveTo=\"opacity-0 translate-y-2 sm:scale-95\"\n                        >\n                            <Dialog.Panel className=\"w-full max-w-2xl transform overflow-hidden rounded-2xl border border-indigo-600 bg-white backdrop-blur-xl p-6 shadow-xl shadow-indigo-500/10\">\n                                <div className=\"flex items-start justify-between\">\n                                    <Dialog.Title className=\"sr-only\">Authentication</Dialog.Title>\n                                    <Link href=\"/\" className=\"flex items-center justify-center gap-2 mb-4\">\n                                        <img src=\"/logo.png\" alt=\"\" className='w-8 h-8' />\n                                        <div>\n                                            <span className=\"text-2xl font-extrabold tracking-tight text-indigo-600\">KOM</span>\n                                            <span className=\"text-2xl font-extrabold tracking-tight text-black\">PLEX</span>\n                                        </div>\n                                    </Link>\n                                </div>\n\n                                {/* Tabs */}\n                                <div className=\"flex bg-white rounded-xl p-1 mb-6 border border-indigo-600  mx-auto\">\n                                    <button\n                                        onClick={() => setActiveTab('login')}\n                                        className={`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all hover:bg-gray-50 duration-300 ${activeTab === 'login'\n                                            ? 'bg-white text-indigo-600 shadow-sm border border-indigo-600'\n                                            : 'text-black hover:text-indigo-600'\n                                            }`}\n                                    >\n                                        ចូលទៅកាន់\n                                    </button>\n                                    <button\n                                        onClick={() => setActiveTab('signup')}\n                                        className={`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all hover:bg-gray-50 duration-300 ${activeTab === 'signup'\n                                            ? 'bg-white text-indigo-600 shadow-sm border border-indigo-600'\n                                            : 'text-black hover:text-indigo-600'\n                                            }`}\n                                    >\n                                        ចុះឈ្មោះ\n                                    </button>\n                                </div>\n\n                                {/* Forms */}\n                                {activeTab === 'login' && (\n                                    <LogIn\n                                        loginIdentifier={loginIdentifier}\n                                        setLoginIdentifier={setLoginIdentifier}\n                                        loginPassword={loginPassword}\n                                        setLoginPassword={setLoginPassword}\n                                        showPassword={showPassword}\n                                        setShowPassword={setShowPassword}\n                                        isLoginValid={isLoginValid}\n                                        handleLogin={handleLogin}\n                                        isSubmitting={isSubmitting}\n                                        errorMessage={formError}\n                                    />\n                                )}\n\n                                {activeTab === 'signup' && (\n                                    <SignUp\n                                        signupData={signupData}\n                                        setSignupData={setSignupData}\n                                        showPassword={showPassword}\n                                        setShowPassword={setShowPassword}\n                                        showConfirmPassword={showConfirmPassword}\n                                        setShowConfirmPassword={setShowConfirmPassword}\n                                        isSignupValid={isSignupValid}\n                                        handleSignup={handleSignup}\n                                        handleProfileImageChange={handleProfileImageChange}\n                                        isSubmitting={isSubmitting}\n                                        errorMessage={formError}\n                                    />\n                                )}\n\n                                {/* Divider */}\n                                <div className=\"my-6 flex items-center  mx-auto\">\n                                    <div className=\"flex-1 border-t border-indigo-500/20\"></div>\n                                    <span className=\"px-4 text-sm text-gray-500\">ឬ</span>\n                                    <div className=\"flex-1 border-t border-indigo-500/20\"></div>\n                                </div>\n\n                                {/* Social Login */}\n                                <div className=\"flex gap-2 mx-auto\">\n                                    {socialPlatforms.map((platform, index) => (\n                                        <button\n                                            key={index}\n                                            onClick={() => handleSocialLogin(platform.provider)}\n                                            className=\"flex-1 bg-white border border-indigo-500/20 text-gray-700 py-3 px-4 rounded-xl font-medium hover:bg-gray-50 transition-colors duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                                            disabled={isSubmitting}\n                                        >\n                                            {platform.icon}\n                                        </button>\n                                    ))}\n                                </div>\n                            </Dialog.Panel>\n                        </Transition.Child>\n                    </div>\n                </div>\n            </Dialog>\n        </Transition.Root>\n    );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;AAhBA;;;;;;;;;;;;;;AAyBA,MAAM,kBAAyF;IAC3F;QACI,MAAM;QACN,UAAU;QACV,oBACI,6WAAC;YAAI,WAAU;YAAU,SAAQ;;8BAC7B,6WAAC;oBAAK,MAAK;oBAAU,GAAE;;;;;;8BACvB,6WAAC;oBAAK,MAAK;oBAAU,GAAE;;;;;;8BACvB,6WAAC;oBAAK,MAAK;oBAAU,GAAE;;;;;;8BACvB,6WAAC;oBAAK,MAAK;oBAAU,GAAE;;;;;;;;;;;;IAGnC;IACA;QACI,MAAM;QACN,UAAU;QACV,oBACI,6WAAC;YAAI,WAAU;YAAU,SAAQ;YAAY,MAAK;sBAC9C,cAAA,6WAAC;gBAAK,GAAE;;;;;;;;;;;IAGpB;IACA;QACI,MAAM;QACN,UAAU;QACV,oBACI,6WAAC;YAAI,WAAU;YAAU,SAAQ;YAAY,MAAK;YAAe,eAAY;sBACzE,cAAA,6WAAC;gBAAK,UAAS;gBAAU,GAAE;gBAAinB,UAAS;;;;;;;;;;;IAGjqB;CACH;AAEc,SAAS,UAAU,EAAE,IAAI,EAAE,OAAO,EAAkB;IAC/D,MAAM,SAAS,CAAA,GAAA,iQAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAsB;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAiB;IAE1D,mBAAmB;IACnB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,oBAAoB;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;QACzC,UAAU;QACV,WAAW;QACX,UAAU;QACV,OAAO;QACP,UAAU;QACV,iBAAiB;QACjB,aAAa;QACb,OAAO;QACP,cAAc;IAClB;IAEA,MAAM,eAAe,IAAM,CAAA,GAAA,8HAAA,CAAA,oBAAiB,AAAD,EAAE,iBAAiB;IAC9D,MAAM,gBAAgB,IAAM,CAAA,GAAA,8HAAA,CAAA,qBAAkB,AAAD,EAAE;IAE/C,MAAM,gBAAgB;QAClB,gBAAgB;QAChB,aAAa;QACb;IACJ;IAEA,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,IAAI,CAAC,gBAAgB;QAErB,aAAa;QACb,gBAAgB;QAEhB,IAAI;YACA,MAAM,SAAS,MAAM,CAAA,GAAA,qUAAA,CAAA,6BAA0B,AAAD,EAAE,8HAAA,CAAA,OAAI,EAAE,iBAAiB;YACvE,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;YAC7B,MAAM,WAAW,MAAM,CAAA,GAAA,4HAAA,CAAA,iBAAc,AAAD;YACpC,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C;YACA,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAgB;YACrB,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACzD,aAAa;QACjB,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,IAAI,CAAC,iBAAiB;QAEtB,aAAa;QACb,gBAAgB;QAEhB,IAAI;YACA,IAAI,WAAW;YACf,IAAI,WAAW,YAAY,EAAE;gBACzB,IAAI;oBACA,WAAW,MAAM,CAAA,GAAA,8HAAA,CAAA,aAAU,AAAD,EAAE,WAAW,YAAY;gBACvD,EAAE,OAAO,WAAW;oBAChB,QAAQ,KAAK,CAAC,iBAAiB;oBAC/B,aAAa;oBACb,gBAAgB;oBAChB;gBACJ;YACJ;YAEA,MAAM,SAAS,MAAM,CAAA,GAAA,yUAAA,CAAA,iCAA8B,AAAD,EAAE,8HAAA,CAAA,OAAI,EAAE,WAAW,KAAK,EAAE,WAAW,QAAQ;YAC/F,MAAM,WAAW,MAAM,CAAA,GAAA,4HAAA,CAAA,SAAM,AAAD,EAAE;gBAC1B,OAAO,WAAW,KAAK;gBACvB,UAAU,WAAW,QAAQ;gBAC7B,KAAK,OAAO,IAAI,CAAC,GAAG;gBACpB,WAAW,WAAW,SAAS;gBAC/B,UAAU,WAAW,QAAQ;gBAC7B,aAAa,WAAW,WAAW;gBACnC,OAAO,WAAW,KAAK;gBACvB,iBAAiB;YACrB;YAEA,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C;YACA,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAgB;YACrB,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACzD,aAAa;QACjB,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,oBAAoB,OAAO;QAC7B,aAAa;QACb,gBAAgB;QAChB,IAAI;YACA,MAAM,WAAW,gBAAgB,WAAW,8HAAA,CAAA,iBAAc,GAAG,gBAAgB,WAAW,8HAAA,CAAA,iBAAc,GAAG,8HAAA,CAAA,oBAAiB;YAC1H,MAAM,SAAS,MAAM,CAAA,GAAA,yTAAA,CAAA,kBAAe,AAAD,EAAE,8HAAA,CAAA,OAAI,EAAE;YAC3C,MAAM,WAAW,MAAM,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE;gBAC/B,UAAU;gBACV,OAAO,OAAO,IAAI,CAAC,KAAK,IAAI;gBAC5B,UAAU,OAAO,IAAI,CAAC,WAAW,IAAI;gBACrC,KAAK,OAAO,IAAI,CAAC,GAAG;gBACpB,WAAW,OAAO,IAAI,CAAC,WAAW,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;gBACrD,UAAU,OAAO,IAAI,CAAC,WAAW,EAAE,MAAM,KAAK,MAAM,GAAG,KAAK,QAAQ;gBACpE,aAAa;gBACb,OAAO;gBACP,cAAc,OAAO,IAAI,CAAC,QAAQ;gBAClC,iBAAiB;YACrB;YAEA,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC5C;YACA,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,OAAgB;YACrB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACzD,aAAa;QACjB,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,2BAA2B,CAAC;QAC9B,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACN,cAAc,CAAA,OAAQ,CAAC;oBAAE,GAAG,IAAI;oBAAE,cAAc;gBAAK,CAAC;QAC1D;IACJ;IAEA,qBACI,6WAAC,sUAAA,CAAA,aAAU,CAAC,IAAI;QAAC,MAAM;QAAM,IAAI,oUAAA,CAAA,WAAQ;kBACrC,cAAA,6WAAC,8TAAA,CAAA,SAAM;YAAC,IAAG;YAAM,WAAU;YAAgB,SAAS,KAAQ;;8BAExD,6WAAC,sUAAA,CAAA,aAAU,CAAC,KAAK;oBACb,IAAI,oUAAA,CAAA,WAAQ;oBACZ,OAAM;oBACN,WAAU;oBACV,SAAQ;oBACR,OAAM;oBACN,WAAU;oBACV,SAAQ;8BAER,cAAA,6WAAC;wBAAI,WAAU;;;;;;;;;;;8BAEnB,6WAAC,qJAAA,CAAA,UAAM;;;;;8BAGP,6WAAC;oBAAI,WAAU;8BACX,cAAA,6WAAC;wBAAI,WAAU;kCACX,cAAA,6WAAC,sUAAA,CAAA,aAAU,CAAC,KAAK;4BACb,IAAI,oUAAA,CAAA,WAAQ;4BACZ,OAAM;4BACN,WAAU;4BACV,SAAQ;4BACR,OAAM;4BACN,WAAU;4BACV,SAAQ;sCAER,cAAA,6WAAC,8TAAA,CAAA,SAAM,CAAC,KAAK;gCAAC,WAAU;;kDACpB,6WAAC;wCAAI,WAAU;;0DACX,6WAAC,8TAAA,CAAA,SAAM,CAAC,KAAK;gDAAC,WAAU;0DAAU;;;;;;0DAClC,6WAAC,2RAAA,CAAA,UAAI;gDAAC,MAAK;gDAAI,WAAU;;kEACrB,6WAAC;wDAAI,KAAI;wDAAY,KAAI;wDAAG,WAAU;;;;;;kEACtC,6WAAC;;0EACG,6WAAC;gEAAK,WAAU;0EAAyD;;;;;;0EACzE,6WAAC;gEAAK,WAAU;0EAAoD;;;;;;;;;;;;;;;;;;;;;;;;kDAMhF,6WAAC;wCAAI,WAAU;;0DACX,6WAAC;gDACG,SAAS,IAAM,aAAa;gDAC5B,WAAW,CAAC,6FAA6F,EAAE,cAAc,UACnH,gEACA,oCACA;0DACT;;;;;;0DAGD,6WAAC;gDACG,SAAS,IAAM,aAAa;gDAC5B,WAAW,CAAC,6FAA6F,EAAE,cAAc,WACnH,gEACA,oCACA;0DACT;;;;;;;;;;;;oCAMJ,cAAc,yBACX,6WAAC,2JAAA,CAAA,UAAK;wCACF,iBAAiB;wCACjB,oBAAoB;wCACpB,eAAe;wCACf,kBAAkB;wCAClB,cAAc;wCACd,iBAAiB;wCACjB,cAAc;wCACd,aAAa;wCACb,cAAc;wCACd,cAAc;;;;;;oCAIrB,cAAc,0BACX,6WAAC,4JAAA,CAAA,UAAM;wCACH,YAAY;wCACZ,eAAe;wCACf,cAAc;wCACd,iBAAiB;wCACjB,qBAAqB;wCACrB,wBAAwB;wCACxB,eAAe;wCACf,cAAc;wCACd,0BAA0B;wCAC1B,cAAc;wCACd,cAAc;;;;;;kDAKtB,6WAAC;wCAAI,WAAU;;0DACX,6WAAC;gDAAI,WAAU;;;;;;0DACf,6WAAC;gDAAK,WAAU;0DAA6B;;;;;;0DAC7C,6WAAC;gDAAI,WAAU;;;;;;;;;;;;kDAInB,6WAAC;wCAAI,WAAU;kDACV,gBAAgB,GAAG,CAAC,CAAC,UAAU,sBAC5B,6WAAC;gDAEG,SAAS,IAAM,kBAAkB,SAAS,QAAQ;gDAClD,WAAU;gDACV,UAAU;0DAET,SAAS,IAAI;+CALT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBjD","debugId":null}},
    {"offset": {"line": 2896, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/School/Year-2/Next-Gen/KOMPLEX/apps/web/src/components/common/ModalRoot.tsx"],"sourcesContent":["'use client';\n\nimport AuthModal from '@components/pages/auth/AuthModal';\nimport { useAuth } from '@hooks/useAuth';\n\nexport default function ModalRoot() {\n    const { isLoginOpen, closeLoginModal } = useAuth();\n    return <AuthModal open={isLoginOpen} onClose={closeLoginModal} />;\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACpB,MAAM,EAAE,WAAW,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAO,AAAD;IAC/C,qBAAO,6WAAC,+JAAA,CAAA,UAAS;QAAC,MAAM;QAAa,SAAS;;;;;;AAClD","debugId":null}}]
}